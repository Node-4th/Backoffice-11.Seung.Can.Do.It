## 클래스->프로젝트->팀 배정 까지의 서비스 플로우와 요구사항

작성자: 이경복

1. 클래스 생성/수정/삭제 (ex.노드 4기 교육과정)
   ✅ ADMIN role을 가진 회원만 클래스를 등록할 수 있다. createClass
   ✅ ADMIN 유저는 1개의 클래스만 등록할 수 있다.
   ✅ ADMIN 유저는 생성한 클래스명을 수정할 수 있다. updateClass
   ✅ ADMIN 유저는 생성한 클래스를 삭제할 수 있다. deleteClass

2. 클래스 조회하기
   ⚠️클래스 조회 문제 있음 (ex. 노드 4기 교육과정-student 60명, tutor 7명)

- Admin은 생성된 클래스에 배정할 회원 목록을 조회하여 선택한다. getClassByClassId
- 선택된 회원을 클래스에 배정(등록)한다.
- ADMIN이 생성한 클래스에 배정받은 모든 회원(student, tutor)은 해당 클래스(:classId)를 검색하여 조회할 수 있다.

#### 클래스에 회원 등록? 배정? 매칭?

- issue #1 클래스에 회원 배정을 어떻게 할까
  - 배정을 완료하면
- issue #2 선택된 리스트의 회원정보가 DB에 어떻게 저장되어야할까

3. 팀 생성 (ex.노드 4기 - 숙련주차 발제 - 11조 (강다빈 김유진 이경복 이수지 ))

- CRUD는 유사한 로직
- 클레스에 등록된 회원정보를 바탕으로 프로젝트를 수행할 팀을 매칭하게 되는데, 인원은 4명이며 student 유저만 포함한다. tutor 배정은 추후에 고민해보기로 한다.
- 배정된 팀을 조회한 student 회원들을 (노션페이지)를 작성했던 것처럼, 팀 페이지를 완성하고 제출한다.

#### 팀에 회원 등록? 배정? 매칭?

- issue 1-2과 동일한 문제

4. 프로젝트 생성 (ex.노드 4기 - 숙련주차 발제)

- ADMIN role을 가진 회원만 프로젝트를 등록할 수 있다. createProject
- 동일한 이름으로는 프로젝트 등록을 할 수 없다.
- ADMIN 유저는 기존에 생성된 클래스에 n개의 프로젝트를 등록할 수 있다.
- ADMIN 유저는 생성한 프로젝트를 수정할 수 있다. updateProject
- ADMIN 유저는 생성한 프로젝트를 삭제할 수 있다. deleteProject

- 생성한 프로젝트는 모든 유저가 조회할 수 있어야한다. getAllProject

#### 프로젝트에 회원 등록? 배정? 매칭?

- ADMIN 유저는 생성한 클래스에 Studuent 유저와 tutor 유저 목록을 조회하여 선택한다.
- 선택된 회원을 프로젝트에 배정(등록)한다.
- 매칭한 팀원들의 정보(id, 이름 등)이 누구인지 teams 테이블에서 확인할 수 있어야한다.

---

<02.24>

### 클래스 API

클래스 상세 조회(전체)
클래스 생성(어드민)
클래스 수정(어드민)
클래스 삭제(어드민)

클래스 초대 메일 발송

### 프로젝트 API

[카테고리] 프로젝트 목록 조회(전체)
[카테고리] 프로젝트 상세 조회(전체)
[카테고리] 프로젝트 수정(어드민)
[카테고리] 프로젝트 삭제(어드민)
[카테고리] 프로젝트 생성(수강생만 지정-생성)

- 요일별 TIL 생성
- 개인 프로젝트 생성(발제)
- 팀 프로젝트 생성(발제)

-------<02.26>

[카테고리] 제출 현황 조회(어드민)

- 요일별 TIL 미제출자
- 개인 프로젝트 미제출자
- 팀 프로젝트 미제출팀

[카테고리] 미제출자 대상 제출 요청발송(어드민)

- TIL 제출 요청
- 개인 프로젝트 제출 요청
- 팀 프로젝트 제출 요청

### 팀 API

[프로젝트] 팀 목록 조회(전체)
[프로젝트] 팀 상세 조회(전체)
[프로젝트] 팀 생성(어드민)
[프로젝트] 팀 수정(어드민)
[프로젝트] 팀 삭제(어드민)

#### 팀 소개 게시글 수정 API 추가?

- ADMIN의 역할은, 팀을 생성 -> 프로젝트 및 팀원 배정 -> 배정 현황 확인(조회) -> 제출 요청 -> 팀소개 페이지 제출현황 체크 -> 완료처리
- Student의 역할은, 배정받은 팀과 팀원 정보 확인(조회) -> 팀소개 페이지 등록/수정 -> 제출 -> 완료상태 확인
- Tutor의 역할은, 모든 팀과 팀원 정보 확인(조회) -> 피드백(리뷰)을 작성/수정/삭제 -> 제출 -> 완료상태 확인
- 삭제는 ADMIN만 가능해야하겠다.

프로젝트 category -> til / 개인 / 팀

1. classId 가진 유저 목록을 조회한다.
2. tasks 테이블에서 projectId를 통해서 Project 테이블의 category=TIL and endDate=27일인 조건에 해당하는 userId-> tasks 목록을 조회한다.
3. tasks <> users 교집합이 되는 userId가 있고, outerJoin느낌으로 tasks 테이블과 관계가없는(제출이력이없는) userId들을 조회하면, 이 인간들이 미제출자 목록이다.

수강생 이름 전체 목록 조회

- 과제 제출 -> tasksId 생성
- tasksId가 없는 애들이 미제출자

tasksId가 없는 userId들을 조회 -> 50명
27일에 제출안한 사람 -> 10명
메일 발송하기 -> 제출 요청 보내기

select name from users u, tasks t, projects p
where u.userId = t.userId
and t.projectId = p.projectId
and p.category = "TIL"

projectId - catgegory - til - tasksId X and p.end = 02.27

제출을 하면? 표처럼 표시

어제자 createdAt 을 find하면, greater than prisma연산자
join을 2번한다. select category(til) -> select ->

user - project를 join한 다음 없는 유저를

-> 제출현황 조회
TIL2 TIL3 TIL4 TIL5 TIL6 TIL7  
 1 이경복 O X X X X X
2
